language: node_js
# as we're not running unittests, force success return status
script: "/bin/true"
# always want to know when we've had a failed build, or if the status has changed (i.e. a failed build is now passing)
# TODO ensure that this only emails exec!
notifications:
  on_success: change
  on_failure: always
  email:
    - jamie@jamietanna.co.uk
    - harrymt@me.com
# currently deploying to Jamie Tanna's heroku account
# references:
# - http://blog.travis-ci.com/2013-07-09-introducing-continuous-deployment-to-heroku/
# - http://docs.travis-ci.com/user/deployment/heroku/#Application-to-deploy
deploy:
  provider: heroku
  api_key:
    secure: dKWp0tak677gBZaDj64wYV7PYwKjYI542UVJBzdLAHIWOO2+xq92mlqvIIAxwqbYHipyFqy/B/eyvFGJ7T19q3V7D+KOFWizFDvZtgiZPfiCeJD9whOik+ZYHDabhp+iKsv9pRQBRhCZ4YSkIfHOW7xNHuIhFVxV4y/gHyrFP25UMIsQLnSGO3K8/fQo+ko1J7D0XmW++mL9EhNtUJBK33HyG8jSxy+tVcDPBUk/voEAfJN60KDOxcc9lUkRtZQSp81SUHLoT8XtCw/kArfKeaJis/ruWGMFgBGsL+nFPjC6qlxE7nBvbcCxDxW7tQTtCoLKwaZT6ra2jWAc90tPh1kP1w+swCIg3w+UVjU3NwdnLXO+zE68M+iFhbML1LToxjVme2za9aglpBom+vmMx7vIHRJo6am0ewUBW665o3f08V9UJ5jo7anAZ1OIbennfSA4ydpdWcU/Ippo+EOlNeICf2f9PmXylM/WVhi3WbEWxTkSI+gkm/gR7RjvmcDBFBl2BV0HJkuNyk63T2Df9NJe8VXgQDGCOkydsna+GQY74l01eF1Xlq+zreHEwIc5WGu2UNZtRf4gXj2jvZyWz4kk6Rz0Ra2bXHNKfkDaGAfw1dBX7YaQu+yOW+zJRgaZYZ65LU51dg8eBiN9R6l7Q0dGjQqprBYKD8pVcs/gREw=
  app:
    # we want a staging and a production site - so we can check changes before they go live
    master: hacknotts-staging
    prod: hacknotts-prod

before_install:
  - gem install sass
  - npm install
  - grunt
